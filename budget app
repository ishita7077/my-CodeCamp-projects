class Category:
    def __init__(self,name):
        self.name = name
        self.ledger = []
    
    def deposit(self,amount,description=''):
        self.ledger.append({
            'amount': amount,
            'description': description})

    def withdraw(self,amount,description=''):
        if self.check_funds(amount):
            self.ledger.append({
                'amount': -amount,
                'description': description
            })
            return True
        
        return False

    def get_balance(self):
        total= 0
        for entry in self.ledger:
            amt =entry['amount']
            total+=amt 
        return total   

    def transfer(self,amt,cat_to):
        flag = self.withdraw(amt,f'Transfer to {cat_to.name}')
        
        if flag==True:
            cat_to.deposit(amt,f'Transfer from {self.name}')
            return True

        return False
    
    def check_funds(self,amount):
        if amount>self.get_balance():
            return False
        
        return True
   
    def __str__(self):
        lines = []
        lines.append(self.name.center(30, '*'))

        for entry in self.ledger:
            descrip = entry['description'][0:23].ljust(23)
            amt = f"{entry['amount']:>7.2f}"
            lines.append(descrip + amt)

        lines.append(f"Total: {self.get_balance():.2f}")
        return "\n".join(lines)

 
def create_spend_chart(categories):
    lines = ["Percentage spent by category"]

    # 1) total spent per category (withdrawals only)
    spent = []
    for cat in categories:
        s = 0
        for entry in cat.ledger:
            if entry["amount"] < 0:
                s += -entry["amount"]
        spent.append(s)

    total_spent = sum(spent)

    # 2) percentages rounded down to nearest 10
    percents = []
    for s in spent:
        if total_spent == 0:
            p10 = 0
        else:
            p = int(s * 100 / total_spent)   # truncate down
            p10 = (p // 10) * 10             # round down to nearest 10
        percents.append(p10)

    # 3) bars (100 to 0)
    # IMPORTANT: do NOT strip trailing spaces; FCC expects them
    for y in range(100, -1, -10):
        row = f"{y:>3}| "
        for p10 in percents:
            row += "o  " if p10 >= y else "   "
        lines.append(row)  # keep trailing spaces

    # 4) horizontal line: 3 dashes per category + 1 (extends 2 past last bar)
    lines.append("    " + "-" * (len(categories) * 3 + 1))

    # 5) names vertically (keep two spaces after final category)
    max_len = max(len(cat.name) for cat in categories)
    for i in range(max_len):
        row = "     "
        for cat in categories:
            row += (cat.name[i] if i < len(cat.name) else " ") + "  "
        lines.append(row)  # keep trailing spaces

    return "\n".join(lines)


def main():
    pass
main()

